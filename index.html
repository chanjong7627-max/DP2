<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analog in Digital</title>

    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/font.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/slick.css" />
    <link rel="stylesheet" href="./css/vars.css" />

</head>

<body>
    <div class="hud">
        <div class="title" id="hudTitle">Analog in Digital</div>
    </div>

    <!-- ========== dots ========== -->
    <div class="dots" id="dots"></div>

    <!-- ========== scroll ========== -->
    <div class="scroll-hint">Scroll ↓</div>

    <!-- ========== main ========== -->
    <main id="archive">

        <section id="intro" class="scene">
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="center">
                <div>
                    <div class="intro-title">Analog in Digital</div>
                    <div class="intro-sub">Scroll to explore</div>
                </div>
            </div>
            <div class="box2"></div>
        </section>


        <!-- ========== 8 Product scene ========== -->
        <section id="scene1" class="scene">
            <div class="box"></div>
            <video src="./video/video.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">QWERKY WRITER</div>
                <div class="name" data-text="타자기의 감성을 담은 블루투스 키보드">타자기의 감성을 담은 블루투스 키보드</div>
                <div class="meta">2016 · $253</div>
                <div class="desc">클래식한 타자감의 재해석, 알루미늄 노브의 클릭감</div>
                <div class="button"><a href="https://www.qwerkywriter.com/collections/frontpage" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="scene2" class="scene">
            <div class="box"></div>
            <video src="./video/video2.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">PAPER TEXTURE FILM</div>
                <div class="name" data-text="디지털에서 느끼는 종이 감촉">디지털에서 느끼는 종이 감촉</div>
                <div class="meta">2017 · $30</div>
                <div class="desc">종이 위에 연필이나 펜으로 글씨를 쓰던 '사각'거리는 마찰감을 구현. 현대의 매끄러운 디지털 스타일러스 펜으로 아날로그 필기감</br> 그리고 미끄러짐 없이 정제된 선을 그리고자 하는 사용자들을 위해 탄생</div>
                <div class="button"><a href="https://paperlike.kr/" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="scene3" class="scene">
            <div class="box"></div>
            <video src="./video/video3.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">TAPPLOCK ONE</div>
                <div class="name" data-text="지문으로 여는 자물쇠">지문으로 여는 자물쇠</div>
                <div class="meta">2016 · $99</div>
                <div class="desc">물리적인 열쇠를 꺼내 자물쇠 구멍에 넣던 직관적인 해제 동작, 현대의 생체 인식 스캐닝 기술과 </br>
                    자물쇠 본체에 접촉하는 행위만으로 즉시 잠금이 해제되는 즉각적인 사용 경험</div>
                <div class="button"><a href="https://tapplock.com/oneplus/" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="scene4" class="scene">
            <div class="box"></div>
            <video src="./video/video4.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">ROTARY CELLPHONE</div>
                <div class="name" data-text="다이얼 휴대폰">다이얼 휴대폰</div>
                <div class="meta">2020 · $390</div>
                <div class="desc">전화기 다이얼의 구멍에 손가락을 걸어 번호를 돌리던 그 기계적인 감각을 그대로 구현,</br>현대의 4G 셀룰러 통신 기술과 휴대용 배터리와 결합되면서도
                    </br>복잡한 터치스크린이나 불필요한 알림 없이 오직 전화를 거는 행위에만 집중</div>
                <div class="button"><a href="https://www.designnest.com/Project/2p2g6c01y3nn/Rotary-Cell-Phone" target="_blank">Link</a></div>
                </div>
            <div class="box2"></div>
        </section>

        <section id="scene5" class="scene">
            <div class="box"></div>
            <video src="./video/video5.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">LAMI - AlSTAR S PEN</div>
                <div class="name" data-text="손끝이 기억하는 잉크의 압력감">손끝이 기억하는 잉크의 압력감</div>
                <div class="meta">2021 · $32</div>
                <div class="desc">수십 년간 손에 익숙했던 '라미 펜'의 편안한 그립감과 무게 중심으로 </br>아날로그적 감각을 잃고 싶지 않는 갤럭시 디바이스 사용자들을 위한 제품
                </div>
                <div class="button"><a href="https://www.samsung.com/sec/mobile-accessories/lamy-al-star-s-pen/GP-JPU021LMEJK/" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="scene6" class="scene">
            <div class="box"></div>
            <video src="./video/video6.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">LIGHT SPEAKER</div>
                <div class="name" data-text="일렁이는 불빛의 디지털 랜턴 스피커">일렁이는 불빛의 디지털 랜턴 스피커</div>
                <div class="meta">2021 · $312</div>
                <div class="desc">모닥불이나 랜턴 주위에 둘러앉아 일렁이는 불빛을 바라보던 그 원초적이고 따뜻한 감각을 그대로 구현 </br>음악에 맞춰 모닥불이나 촛불처럼 의도적으로
                    불규칙하게 흔들리는 조명</div>
                <div class="button"><a href="https://smartstore.naver.com/oldgarage/products/6821702995?" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="scene7" class="scene">
            <div class="box"></div>
            <video src="./video/video7.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">BRITZ - BZ-TP1000</div>
                <div class="name" data-text="턴테이블 외형의 블루투스 스피커">턴테이블 외형의 블루투스 스피커</div>
                <div class="meta">2022 · $83</div>
                <div class="desc">레코드가 회전하며 음악이 흘러나오는 그 시각적 경험과 특유의 따듯한 사운드.</br>그리고 LP판과 스마트폰의 디지털 음원을 모두 즐기고자 하는 사용자들을
                    위한 스피커</div>
                <div class="button"><a href="https://britz.co.kr/product/view.html?from=new&p_no=1053&p=" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="scene8" class="scene">
            <div class="box"></div>
            <video src="./video/video8.mp4" id="video1" muted playsinline preload="auto"></video>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="info">
                <div class="kicker">MOOAS - FLIP RETRO CLOCK</div>
                <div class="name" data-text="자동 플립 탁상 시계">자동 플립 탁상 시계</div>
                <div class="meta">2024 · $24</div>
                <div class="desc">현대의 정확한 쿼츠 무브먼트 기술과 결합되면서도 </br>숫자판이 '찰칵' 소리를 내며 물리적으로 넘어가는 특유의 시각적 경험, 아날로그 감성의
                    소리,그리고 감각적인 뉴트로 디자인</div>
                <div class="button"><a href="https://www.amazon.com/mooas-Vintage-Battery-Internal-Operated/dp/B07PYN9YZN?th=1" target="_blank">Link</a></div>
            </div>
            <div class="box2"></div>
        </section>

        <section id="outro" class="scene">
            <div class="box"></div>
            <canvas data-placeholder></canvas>
            <div class="vignette"></div>
            <div class="center">
                <div>
                    <div class="intro-title">Thanks for exploring</div>
                    <div class="intro-sub">Digital Publishing 2</div>
                </div>
            </div>
            <div class="box2"></div>
        </section>

    </main>


    <!-- <script>
        const clamp = (n, min = 0, max = 1) => Math.max(min, Math.min(max, n));
        const scenes = [...document.querySelectorAll('.scene')];
        const dotsWrap = document.getElementById('dots');

        scenes.forEach((_, i) => { if (i > 0 && i < scenes.length - 1) { const d = document.createElement('div'); d.className = 'dot'; d.dataset.idx = i; dotsWrap.appendChild(d); } });
        const dots = [...document.querySelectorAll('.dot')];

        function update() {
            const vh = window.innerHeight;
            let activeIndex = -1;
            scenes.forEach((sec, i) => {
                const rect = sec.getBoundingClientRect();
                const ratio = (vh - rect.top) / vh;
                const p = clamp(ratio, 0, 1);
                sec.style.setProperty('--p', p.toFixed(3));

                if (p > 0.05 && p <= 1) {
                    sec.classList.add('active');
                } else {
                    sec.classList.remove('active');
                }

                if (p > 0.5) activeIndex = i;
            });
            dots.forEach((dot, i) => dot.classList.toggle('active', i + 1 === activeIndex));
        }

        dotsWrap.addEventListener('click', e => {
            const target = e.target.closest('.dot');
            if (!target) return;
            const index = parseInt(target.dataset.idx);
            const targetScene = scenes[index];
            if (targetScene) { window.scrollTo({ top: targetScene.offsetTop, behavior: 'smooth' }); }
        });

        window.addEventListener('scroll', update, { passive: true });
        window.addEventListener('resize', update);
        update();


        // === Scroll-synced video test for scene1 ===
const scene1 = document.getElementById("scene1");
const video1 = document.getElementById("video1");

// video가 로드되면 재생시간(duration)을 알 수 있음
video1.addEventListener("loadedmetadata", () => {
  const duration = video1.duration;

  window.addEventListener("scroll", () => {
    const rect = scene1.getBoundingClientRect();
    const vh = window.innerHeight;

    // scene1의 화면 내 위치 비율 계산 (0 ~ 1)
    let progress = (vh - rect.top) / vh;
    progress = Math.min(Math.max(progress, 0), 1);

    // scroll progress → video time 매핑
    video1.currentTime = duration * progress;
  });
});

    </script> -->

    <script>
        // ===== 기본 셋업 =====
const clamp = (n, min = 0, max = 1) => Math.max(min, Math.min(max, n));
const scenes = [...document.querySelectorAll('.scene')];
const dotsWrap = document.getElementById('dots');

// ----- dots 생성 -----
scenes.forEach((_, i) => {
  if (i > 0 && i < scenes.length - 1) {
    const d = document.createElement('div');
    d.className = 'dot';
    d.dataset.idx = i;
    dotsWrap.appendChild(d);
  }
});
const dots = [...document.querySelectorAll('.dot')];

// ===== scroll 업데이트 =====
function update() {
  const vh = window.innerHeight;
  let activeIndex = -1;

  scenes.forEach((sec, i) => {
    const rect = sec.getBoundingClientRect();
    const ratio = (vh - rect.top) / vh;
    const p = clamp(ratio, 0, 1);
    sec.style.setProperty('--p', p.toFixed(3));

    // active class 토글
    if (p > 0.05 && p <= 1) sec.classList.add('active');
    else sec.classList.remove('active');

    if (p > 0.5) activeIndex = i;

    // ===== 영상 제어 =====
    const video = sec.querySelector('video');
    if (video && video.readyState >= 2 && video.duration > 0) {
      video.currentTime = video.duration * p;
    }
  });

  // dots 활성화
  dots.forEach((dot, i) => dot.classList.toggle('active', i + 1 === activeIndex));
}

// ===== dots 클릭 시 스크롤 이동 =====
dotsWrap.addEventListener('click', e => {
  const target = e.target.closest('.dot');
  if (!target) return;
  const index = parseInt(target.dataset.idx);
  const targetScene = scenes[index];
  if (targetScene) {
    window.scrollTo({ top: targetScene.offsetTop, behavior: 'smooth' });
  }
});

// ===== IntersectionObserver로 영상 로드 최적화 =====
const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    const video = entry.target.querySelector('video');
    if (entry.isIntersecting && video && video.preload !== 'auto') {
      video.preload = 'auto';
      video.load();
    }
  });
}, { threshold: 0.3 });
scenes.forEach((sec) => observer.observe(sec));

// ===== 이벤트 등록 =====
window.addEventListener('scroll', update, { passive: true });
window.addEventListener('resize', update);
update();

    </script>

    <!-- ========== 영상 ========== -->


</body>

</html>